<html><head><style>#__history{color:silver!important;position:absolute;left:2%;width:47%;max-height:100%;overflow:scroll}#__history .__inlineMacro{animation:none;color:silver}#__currentSection{color:#000;animation:2s textFadeIn;position:absolute;left:51%;width:47%;max-height:100%;overflow:scroll}.__disabledLink{color:silver;text-decoration:underline}.__inlineMacro{animation:2s inlineMacroFadeIn;color:#00f}@keyframes textFadeIn{from{color:#fff}to{color:#000}}@keyframes inlineMacroFadeIn{from{color:#fff}to{color:#00f}}</style><script>function HideHistory(){Core.ShowHistory(!1)}function FunctionLink(){alert("It might look like this, if your function was programmed to raise a browser alert (as this one was). Other functions could do complex logic to choose different sections to go to based on things like player state (do you have a certain item in your inventory?) or even a random roll of the dice!")}function VariableLink(){alert("You'll actually get a compiler error, because it doesn't make sense to link to a variable. In this case, I've linked to a function instead; specifically, one that shows you this alert.")}function InlineFunction(){return"This paragraph is some inline text that comes from a function call! In this case, I put a function macro in my story text, then had the function return the text I wanted to display. In a real game, you could have the function do some kind of game logic that decides what to display; for instance, you could have it check if the player has a particular inventory item, and say one thing if they do and something different if they don't."}function RaiseAlert(){alert("fractive is super cool!")}function InlineExpansionFunction(){return"function (functions should return the string that will replace the link)"}var Core=function(){function e(){}return e.EnableInlineMacros=function(n,t){void 0===t&&(t=!0),t&&n.id.search("_inline-")>-1?n.id=n.id.substring(1):!t&&n.id.search("inline-")>-1&&(n.id="_"+n.id);for(var i=0;i<n.children.length;i++)e.EnableInlineMacros(n.children[i],t)},e.ExpandMacro=function(n){var t="";switch(n[0]){case"@":t=e.ExpandSection(n.substring(1));break;case"#":var i=n.substring(1),o=window[i];"function"==typeof o?t=o():console.log(i+" is not a function");break;case"$":t=window[n.substring(1)];break;default:return console.log("Unknown metacharacter in macro: "+n),""}return t},e.ExpandSection=function(n){var t=document.getElementById(n);if(t){for(var i="",o="",r=!1,a=0;a<t.innerHTML.length;a++)if("{"===t.innerHTML[a]){if(r){console.log("Error: Nested { in "+n+" at character "+a.toString());break}r=!0,o=""}else if("}"===t.innerHTML[a]){if(!r){console.log("Error: Got } without a corresponding { in "+n+" at character "+a.toString());break}r=!1,i+=e.ExpandMacro(o)}else r?o+=t.innerHTML[a]:i+=t.innerHTML[a];return i}return console.log("Section "+n+" doesn't exist"),""},e.GotoSection=function(n){for(var t=document.getElementById("__history"),i=document.getElementById("__currentSection"),o=i.getElementsByTagName("a");0<o.length;){var r=o[0].outerHTML.substring(o[0].outerHTML.indexOf(">")+1,o[0].outerHTML.indexOf("</a>"));o[0].outerHTML='<span class="__disabledLink">'+r+"</span>"}t.innerHTML+=i.innerHTML,t.scrollTop=t.scrollHeight;var a=document.createElement("div");a.id="__currentSection",a.innerHTML=e.ExpandSection(n),e.EnableInlineMacros(a,!0),a.scrollTop=0,i.parentElement.replaceChild(a,i)},e.ReplaceActiveElement=function(e,n){for(var t=document.getElementById(e);t;t=document.getElementById(e))if(t){for(var i=!1,o=t.parentElement;o;o=o.parentElement)if("__currentSection"===o.id){i=!0;break}if(i){var r=document.createElement("span");r.className="__inlineMacro",r.innerHTML=n,t.parentNode.replaceChild(r,t);break}}},e.ShowHistory=function(e){document.getElementById("__history").hidden=!e},e}(),InlineVariable='"Hello, world!"',InlineExpansionVariable="variable (a string which will replace the link)"</script></head><body><div id=Start class=section hidden=true><h1>Welcome!</h1><p>Welcome to fractive, a tool for creating hypertext fiction!</p><p>Fractive stories are written in Markdown, and you can add (optional) game logic in Javascript. Stories consist of &quot;sections&quot;, which you might think of like one page of a book. Typically a section will give you a bit of narrative and then present one or more choices to the player; each choice takes the story to a different section, and in a different direction.</p><p>In Markdown, you declare the beginning of a new section by enclosing the section name (which must be unique!) in double curly braces. The section you're reading right now is called <code>Start</code> which is a special section name that indicates where the story begins.</p><p><a href=# onclick='Core.GotoSection("AnotherSection")'>Link to another section</a></p></div><div id=AnotherSection class=section hidden=true><p>You just clicked a link that took you to another section! You create section links just like any ol' Markdown link, but in place of the URL you put a special <em>macro</em> enclosed in single curly braces. There are three types of macros, each denoted by a symbol:</p><ul><li>@ denotes a section name to link to</li><li># denotes a Javascript function to call</li><li>$ denotes a Javascript variable</li></ul><p>So if you put inside the curly braces <code>@Start</code> you'd have created a link back to the section called <code>Start</code>. If on the other hand you'd put <code>#Start</code> you'd have created a link that would call a Javascript function called <code>Start</code>.</p><p><a href=# onclick=FunctionLink()>What does it look like when a link calls a Javascript function?</a><br><a href=# onclick=VariableLink()>What happens if I set the link URL to a variable macro?</a><br><a href=# onclick='Core.GotoSection("InlineMacros")'>What else can I use macros for?</a></p><p>(P.S. Notice that the first section is still displayed above. That's because we keep track of your play history in a scrollback. You can <a href=# onclick=HideHistory()>hide the history</a> if you like. The UX for this is still going to need some work.)</p></div><div id=InlineMacros class=section hidden=true><p>Macros aren't only for links; you can also use them to add dynamic text to your sections.</p><blockquote><p>{#InlineFunction}</p></blockquote><p>The above paragraph was the result of inlining a function call, which expects the function to return a string. You can also inline the value of a variable. Here's one: {$InlineVariable}</p><p>You can even inline an entire section:</p><blockquote><p>{@InlineSection}</p></blockquote><p>The inlined function and section above are indented, but that's only because I prefaced them with the Markdown blockquote indicator for clarity. Inlines don't inherently get any special styling, so you can inline things totally seamlessly and your players will never know the difference.</p><p>Finally, you can create links which expand to text in-place, which is commonly used in e.g. <a href=https://twinery.org/2/ >Twine</a> games for artistic effect. You can link to a <a href=# id=_inline-0 onclick='Core.ReplaceActiveElement("inline-0",Core.ExpandMacro("$InlineExpansionVariable"))'>variable</a>, or to the return value of a <a href=# id=_inline-1 onclick='Core.ReplaceActiveElement("inline-1",Core.ExpandMacro("#InlineExpansionFunction"))'>function</a>, and they'll expand in-place.</p><p><a href=# id=_inline-2 onclick='Core.ReplaceActiveElement("inline-2",Core.ExpandMacro("@InlineExpansionSection"))'>You can also do this with a section</a></p><p><a href=# onclick='Core.GotoSection("AboutFormatting")'>Can I use Markdown styling?</a></p></div><div id=InlineSection class=section hidden=true><p>This paragraph was written in an entirely different section, but it appears as part of the section you're already reading. This might be useful if you have some boilerplate text that needs to follow the player around from place to place; you could put it in a section and inline it, instead of copy-pasting the same sentences (or paragraphs) all over your story text.</p></div><div id=InlineExpansionSection class=section hidden=true><p>Sections are kind of special though, in that they don't actually appear inline <em>per se</em>, because they're block-level elements (i.e. their own paragraphs) which means they'll put a paragraph break where they appear. They still replace their :inline macro link though, just like with variables and functions. When inline-expanding a section, you can still have paragraph breaks, <em>additional</em> <strong>formatting</strong>, and so on. And you can even inline sections which themselves contain <a href=# onclick=RaiseAlert()>macros</a>!</p></div><div id=AboutFormatting class=section hidden=true><p>Story text is written in Markdown, which means we have access to <em>all kinds</em> of <strong>formatting</strong>, including:</p><h1>Headers</h1><h2>Sub-headers</h2><ul><li>Unordered lists (like this one)</li><li>Ordered lists (1, 2, 3, 4...)</li><li>Links can also <a href=# onclick=RaiseAlert()><em>contain</em> <strong>formatting</strong></a></li></ul><p>Basically, anything Markdown can do, you can do in your story text! You can even inline <span style=color:red>raw HTML</span> which means you could do video embeds, HTML5 canvas, and all kinds of other fancy stuff.</p><p>And of course, because fractive games are ultimately HTML in the end, you can create your own HTML template with whatever layout you want, and style it with CSS. For example, you could surround your game with a header and footer, or create a sidebar which (along with some custom Javascript) tracks your player's inventory and stats as they move through the story.</p><p><a href=# onclick='Core.GotoSection("LongStories")'>How does fractive handle long/complicated stories?</a></p></div><div id=LongStories class=section hidden=true><p>Fractive's main goal is to be the best tool for writing complex, dynamic hypertext fiction that has lots of branches and genuinely consequential choices. What you're reading right now is produced by a <em>very</em> eary version of the tool, so this goal isn't fully realized yet, but it is the direction I'm heading.</p><p>You can split long story text up into as many individual Markdown files as you like, and they can be named whatever you like. The same goes for game logic in Javascript; you could have separate .js files for each logical class, or for each scene or major location in your story, or however else you'd like to organize it. When you publish your story, all the files in the story source folder are gathered up automatically, and everything gets compiled together into a single self-contained HTML file.</p><p>In the future I'll be exploring additional tools and visualizations to help authors understand, trace, and debug the complexity of large, deeply-branching narratives. Those tools and visualizers will likely be the most experimental, and pivotal, aspects of fractive's development.</p><p>Anything you'd like to review?</p><p><a href=# onclick=FunctionLink()>What does it look like when a link calls a Javascript function?</a><br><a href=# onclick=VariableLink()>What happens if I set the link URL to a variable macro?</a><br><a href=# onclick='Core.GotoSection("InlineMacros")'>What else can I use macros for?</a><br><a href=# onclick='Core.GotoSection("AboutFormatting")'>Can I use Markdown styling?</a></p></div><div id=__history></div><div id=__currentSection></div></body></html><script>Core.GotoSection("Start")</script>